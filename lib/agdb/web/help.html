<html>

<head>
</head>

<body>
<H2 id="filter">General information about the filters</H2>
<p>The objects in the database are sorted out by the filter before they are exported from the database. The filter consists of a GQL statement, Genetic Query Language, which is based on SQL. An introduction to the GQL language can be found here.

<br><br>
<b>Notice:</b> If the same filter is used twice, the output from the filter may not be the same both times due to data manipulation in the database, object could have been added, changed or deleted.

</p>

<p>Go directly to:<br>
<a href="help.html#filter_VE">View & Edit</a> <br>
<a href="help.html#filter_new">New Filter</a> <br>
<a href="help.html#filter_edit">Filters - Edit</a> <br>
</p>

<H3 id="filter_VE">View & Edit</H3>
<img border="2" src="images/filters_VE.png">
<p>The filters can be displayed according to the <i>Species, Name</i> and <i>Expression</i>. To create a new filter the <img border="0" src="images/newFilter_button.png"> button is clicked. By clicking the <font color=blue>Edit</font> text the name, comment and GQL statement can be changed in the "Edit" view.</p>

<H4 id="filter_new">Filters - New</H4>
<img border="2" src="images/filters_new.png">
<p>The name and the species, which is filter specific, has to be given before the filter is created. The GQL statement can be tested and changed in the "Edit" view where the name and comment also can be changed.</p>

<H4 id="filter_edit">Filters - Edit</H4>
<img border="2" src="images/filters_edit.png">
<p>The name, comment and GQL statement can be changed in the respective text boxes and updated by clicking the <img border="0" src="images/filter_updateTest_button.png"> button. The number of objects returned by the statement is displayed in the <i>Result</i> field and the <i>Status</i> displays "Error" if the GQL statement was faulty and "OK" if it was correct. The error message generated by faulty statements can be viewed by clicking on the <img border="0" src="images/filters_error_button.png"> button. The SQL statement generated by the GQL statement can be viewed by clicking on the <img border="0" src="images/filters_sql_button.png"> button. The filter can also be deleted on this page.

<br><br>
<b>Notice:</b> No history is kept for this feature, if the name, comment or GQL statement is changed, the old values cannot be traced and deleted filters cannot be recovered. It is recommended not to change the GQL statement to a particular name since it could confuse the users.
</p>

<H2 id="exporting">General information about the export functionality</H2>
<p>The objects in the database are sorted out according to a user defined filter and each export consists of a set of files according to a chosen output format. The filter expression is executed on one or more sampling units and the marker and variable sets can be given. </p>

<p>Go directly to:<br>
<a href="help.html#export_VE">View & Edit</a> <br>
<a href="help.html#export_edit">Export - Edit</a> <br>
<a href="help.html#export_details">Export - Details</a> <br>
<a href="help.html#export_details_files">Export - Details - Files</a> <br>
<a href="help.html#export_expFile">Export file</a> <br>
<a href="help.html#export_new_start1">Export file - New - Start GTF(1)</a> <br>
<a href="help.html#export_new_start2">Export file - New - Start GTF(2)</a> <br>
<a href="help.html#export_new_start3">Export file - New - Start GTF(3)</a> <br>
</p>

<H3 id="export_VE">View & Edit</H3>
<p>The content in the exported files is generated by a filter. Each export contains a set of files which can be viewed in the "Export - Details" view by clicking the <font color=saddlebrown><b>Download</b></font> text.</p>

<img border="2" src="images/export_VE_upper.png">
<p>Each export consists of a set of files, which are displayed in the "Export - Details - Files" view, and it is the export name that is given on this page. The date should be given as YYYY-MM-DD and the other parameters have the following values: <br>
<br>
<b>Format:</b>
<ul>
<li>Crimap - used for the Crimap software.</li>
<li>General table format (GTF) - User defined output format.</li>
<li>Linkage - used for linkage software.</li>
<li>MapMaker - used for the mapmaker software.</li>
</ul>

<b>Mode:</b>
<ul>
<li>Single - the objects in the exported files comes from one sampling unit.</li>
<li>Multi - the objects in the exported files comes from several sampling units.</li>
</ul>

<b>Status:</b>
<ul>
<li>Done - the export is ready.</li>
<li>In progress - the files are being exported.</li>
<li>Error - an error occurred when the files were exported.</li>
</ul>

</p> 

<img border="2" src="images/export_VE_lower.png">
<p>
The objects can be displayed sorted by <i>Name, Mode, Format, Comment, User</i> and <i>Update</i>, by clicking on the respective text. The "Export - Edit" page is retrieved by clicking on the <font color=blue>Edit</font> text and the "Export - Details" page by clicking the  <font color=blue>Details</font> text respectively. 
</p>

<H4 id="export_edit">Export - Edit</H4>
<img border="2" src="images/export_edit.png">
<p>The name and comment of the exported set of files can be changed. The exported file set can also be deleted.</p>

<H4 id="export_details">Export - Details</H4>
<img border="2" src="images/export_details.png">
<p>The static data is shown and by clicking on the <font color=saddlebrown><b>Download</b></font> text the files included in the export are displayed. </p>

<H4 id="export_details_files">Export - Details - Files</H4>
<img border="2" src="images/export_details_files.png">
<p>The files shown in the figure shows the general table format output files. The object data is stored in the data_1061.txt file and information about user, format etc. is stored in the log_1062.txt file. The number, 1061, in the file names are the file id that should be given if any results related to the export is stored back into the database. If the id is given when the result is stored, the results will be linked to the individuals that were included in the export. </p>

<p>The files are downloaded to the users computer by rights clicking on the <font color=saddlebrown><b>Download</b></font> text. The files can be downloaded from this view until they are deleted in the "Export - Edit" view.
</p>

<H3 id="export_expFile">Export file</H3>
<p>The file export is performed in four steps where the output format, sampling units, markers and variables are given.  
</p>

<H4 id="export_new">Export file - New</H4>
<img border="2" src="images/export_new.png">
<p>Each export is species specific and depending on the purpose of the exported files different output formats are provided. The name has to be given and the comment is voluntary.
</p>

<H4 id="export_new_start1">Export file - New - Start GTF(1)</H4>
<img border="2" src="images/export_new_start1.png">
<p>The filter that should be used in the export should be given together with the sampling unit. If multiple sampling units had been chosen on the previous page, several sampling units can be chosen on this page. 
</p>

<H4 id="export_new_start2">Export file - New - Start GTF(2)</H4>
<img border="2" src="images/export_new_start2.png">
<p>The markers and variables are given on this page. 
</p>

<H4 id="export_new_start3">Export file - New - Start GTF(3)</H4>
<img border="2" src="images/export_new_start3.png">
<p>This page is general table format specific and the parameters that should be included in the exported files are chosen. When the <img border="0" src="images/export_finish_button.png"> is clicked the export starts.
</p>

<H2 id="import">General information about the import functionality</H2>
<p>The uploaded files are stored in file sets which have to pass a check before each file set is imported to the database. The file sets are checked against one sampling unit and only <b>one</b> file set can be checked for each sampling unit at the time.</p>

<p>Go directly to:<br>
<a href="help.html#import_VE">View & Import</a> <br>
<a href="help.html#import_fileSetStatus">File set status</a> <br>
<a href="help.html#import_edit">Import - Edit</a> <br>
<a href="help.html#import_check">Import - Check</a> <br>
<a href="help.html#import_check_all">Import - Check - Check all files</a> <br>
<a href="help.html#import_checked_files">Import - Checked files</a> <br>
<a href="help.html#import_upload">Import - Upload file</a> <br>
<a href="help.html#import_fileStatus">File status</a> <br>
</p>


<H3 id="import_VE">View & Import</H3>
<img border="2" src="images/import_view_upper.png">
<br><br>
<p>The file sets that have been uploaded to the database are displayed by clicking on the <img border="0" src="images/display.png" > button and the <i>File set, Status</i> and <i>Date</i> are search parameters that restricts the number of displayed file sets. <img border="0" src="images/count.png"> shows how many file sets that will be displayed when the <img border="0" src="images/display.png"> button is clicked.</p>

<p>If the number of file sets are bigger than the "maximum number of rows" given in the <i>Projects </i> menu, the file sets are navigated by clicking the <img border="0" src="images/navigate.png">. </p>

<H4 id="import_fileSetStatus">File set status</H4>

<p>The file set status have the following values: 
<ul><li>UPLOADED - the file set has been uploaded to the database, it has not been checked or imported. </li>
<li>CHECKING - the file set is being checked, it can take a while for the check to be performed and in the meanwhile other database manipulations can be performed.</li>
<li>CHECKED - the file set has passed the check.</li>
<li>IMPORTING - the file set is being imported, it can take a while for the import to be performed and in the meanwhile other database manipulation can be performed.</li>
<li>IMPORTED - the file set has been imported to the database.</li>
<li>WARNING - the file set has passed the check, but there are some warnings that can be viewed by clicking the "WARNING" text on the "Import - Check" page. </li>
<li>ERROR - the file set did not pass the check, the "ERROR" message can be viewed by clicking on the "ERROR" text on the "Import - Check" page.</li></ul></p>

<a href="help.html#fileStatus">File status</a> <br>
<br>
<img border="2" src="images/import_view_lower.png">
<p>The displayed file sets can be sorted by <i>File set, Comment, Status, Updated, User</i> or <i>Uploaded,</i> by clicking on the respective text. It the case above they are displayed by the file set name.</p> 

<p>The <font color=blue>Edit</font> link navigates the user to the "Import - Edit" view where the name and comment of the file set can be changed.</p> 

<p>The file set has to be checked before it is imported to the database, and this is done on the "Import - Check" page displayed by clicking on the <font color=blue>Check</font> text. </p>

<p>The file set is imported on the "Import - Checked files" page which is displayed by clicking on the <font color=blue>Import</font> text. Only "CHECKED" files can be imported and therefore the text is only highlighted for that particular file status.</p>

<H3 id="import_edit">Import - Edit</H3>
<img border="2" src="images/import_edit.png">
<p>The file set name and comment can be changed in this view. History is not kept which means that once the parameters values have been changed, the old values cannot be traced.</p>

<H3 id="import_check">Import - Check</H3>
<img border="2" src="images/import_check.png"> 
<p>To check the file set the <img border="0" src="images/checkAllFiles.png"> button is clicked. In the figure above a check has been performed and information about sampling unit, mode and level used in the check is displayed on the page.</p>

<p>All the files in the file set are checked simultaneously and during the check the file set status is "CHECKING". When all the files passed the check the status is changed to "CHECKED" and can be imported to the database. If any of the files fails the check, the file set status and respective file status are "ERROR" and if a file passed the check with some warnings, the status is set to "WARNING" in the same way. The comments regarding the "ERROR" and "WARNING" can be viewed by clicking on the respective text. </p>

<H3 id="import_check_all">Import - Check - Check all files</H3>
<img border="2" src="images/import_check_checkAllFiles.png">

<p> The sampling unit where the file set should be stored has to be given. When the file set passes the check, this sampling unit will be locked until the checked file set has been imported to the database, that is, no checks can be performed associated with the sampling unit until the checked file set is imported. In the meanwhile checks can be performed on other sampling units.</p>

<p> The <i>Level</i> is genotype specific and is the quality or security level. Project members have different security levels and can only manipulate data that have the same or lower level. Members with high security level can lock the data by setting their higher level. </p>

<p>The <i>Create new</i> new mode means that new objects will be added to the database. The files in the file set should only contain objects that do not already exist in the database. If the objects already exist the file status, and file set status, will be "ERROR". The objects that caused the errors can be view by clicking on the "ERROR" text in the "Import - Check" page. Markers always have to be imported in the <i>Create new</i> mode.</p>

<p>When objects in the database should be updated, the <i>Update existing</i> mode should be chosen and the objects the file set should already exist in the database. If update is performed on non existing objects, the file and file set status will be set to "ERROR" and the error message can be viewed by clicking on the "ERROR" text to the corresponding file in the "Import - Check" view.</p>

<p>The <i>Create & Update</i> choice is a combination between the methods described above, new objects will be inserted and already existing ones will be updated.</p>

<H3 id="import_checked_files">Import - Checked files</H3>
<img border="2" src="images/import_checkedFiles.png">
<p>The checked file set is imported to the database from this view when the <img border="0" src="images/importAllFiles.png"> button is clicked. One file set belonging to the given sampling unit can be imported at the time, the import can be aborted by clicking on the <img border="0" src="images/abortImport.png"> button.</p>
<p><b>Notice:</b> If any updates in the database have been performed since the file set was checked, the import may not succeed. It is recommended to check the file set in connection with the import to reduce the probability for updates that conflicts with the data that should be imported.</p>

<H3 id="import_upload">Upload</H3>
<img border="2" src="images/import_upload_small.png">
<p>
Several files can be imported to the database at the same time and they are stored in a user defined file set. The user can continue working with the database while the files are uploaded. The file status can be viewed on the "Import - Check" or "Import - Details" pages and the values are given below.</p>

<H4 id="import_fileStatus">File status</H4>

<ul>
<li>UPLOADED - the file has been uploaded.</li>
<li>1-100% - the file is beeing checked or imported. The persentage shown how much of the file that has been uploaded.</li>
<li>WARNING - the file has passed the check but some modifications have to be done.</li>
<li>ERROR - The file did not pass the check.</li>
<li>CHECKED - The file passed the check.</li>
<li>IMPORTED - The file has been imported to the database.</li>
</ul>

<H2 id="result">General information about the result functionality</H2>
<p>Analyses results are stored into the database and if the file Id is given, the result is linked to the data that was included in the exported file that was used for the analysis. The results have certain result types and are stored in user defined categories. A batch file and a comment can be added to each result.
</p>

<p>Go directly to:<br>
<a href="help.html#results_VE">Results - View & Edit</a> <br>
<a href="help.html#results_new">Results - New</a> <br>
<a href="help.html#results_edit">Results - Edit</a> <br>
<a href="help.html#results_details">Results - Details</a> <br>
</p>

<H3 id="results">Results - View & Edit</H3>
<img border="2" src="images/results_VE_upper.png">
<p>The results are displayed according to the parameters are given below. To store a new result into the database the <img border="0" src="images/resultNew_button.png"> is clicked. <br>
<br>

<b>Sampling unit - </b>All result related to the chosen sampling unit are displayed. To uniquely define the individual, the sampling unit has to be given. <br>
<b>Result Name - </b>Takes out the results with a certain name.<br>
<b>Result Type - </b>All results with a certain result type are sorted out.<br>
<b>File Id - </b>The file Id is given in the exported file names, several results can be produced by each export.<br>
<b>Result date from - </b>All results from this date are displayed.<br>
<b>Result data to - </b>All results up to this date are displayed.<br>
<b>Identity - </b>The individuals identity. Should be used together with the sampling unit, otherwise identities with the same name from different sampling units are displayed.<br>
<b>Category - </b>Sort out all the results with the same category name.<br>
</p>

<img border="2" src="images/results_VE_lower.png">
<p>The results can be sorted according to the parameters given in the upper row in the figure by clicking on respective text. To go to the edit page the <font color=blue>Edit</font> text should be clicked and the <font color=blue>Details</font> text is clicked to go to the "Results - Details" page.

</p>
<H4 id="results_new">Results - New</H4>
<img border="2" src="images/results_new.png">
<p>To link the result to the data that was included in the exported file, the file id has to be given which can be found in the exported file names. It is possible to store results without a file id but these results will not be linked to the data in the database. It is not possible to link the file id to results that already are stored into the database. The file id can either be selected in the drop down menu or written in the text box.
</p>
<p>The user defined result type and category are chosen in the respective drop down menus. The result file has to be given and the batch file and comment if wanted.

</p>
<H4 id="results_edit">Results - Edit</H4>
<img border="2" src="images/results_edit.png">
<p>The category, result type and comment are changed by clicking on the <img border="0" src="images/update_button.png"> button. 
</p>

<H4 id="results_details">Results - Details</H4>
<img border="2" src="images/results_details.png">
<p>The result file, batch file and exported files, if any, can be viewed by clicking on the respective <font color=saddlebrown><b>Download</b></font> text. The set of exported files are displayed and each file can be selected separately. The individuals that were included in the exported file can be viewed by clicking on the <img border="0" src="images/results_individuals_button.png"> button. 
</p>
<p>
If the result parameters have been changed the old values are displayed in the <b>History</b> part of the page and the changed values are highlighted in red. The complete comment can be read by clicking on the <font color=saddlebrown><b>view</b></font> text to the version wanted.
</p>

<H2 id="category">General information about the category functionality</H2>
<p>The categories gives a structured way of storing the result and they can be moved between the categories by changing the category in the "Results - Edit" view.
</p>
<p>Go directly to:<br>
<a href="help.html#category_new">Category - New</a> <br>
<a href="help.html#category_edit">Category - Edit</a> <br>
</p>


<H3 id="category_new">Category - New</H3>
<img border="2" src="images/category_new.png">
<p>The category name and comment are given in the respective text boxes and is created when the <img border="0" src="images/results_save_button.png"> button is clicked.
</p>

<H3 id="category_edit">Category - Edit</H3>
<img border="2" src="images/category_edit.png">
<p>The category name and comment can be changed and all the results related to that category are automatically changed to the new value.
</p>

<H2 id="rtype">General information about the result type functionality</H2>
<p>The result types helps to structure the results based on the analysis result. The result type has to be given for each result and are created in the "Result Type - New" view and updated and deleted in the "Result Type - Edit" view.
</p>
<p>Go directly to:<br>
<a href="help.html#rtype_new">Result type - New</a> <br>
<a href="help.html#rtype_edit">Result type - Edit</a> <br>
</p>


<H3 id="rtype_new">Result type - New</H3>
<img border="2" src="images/rtype_new.png">
<p>The result type is created by writing the name in the text box and click the <img border="0" src="images/results_save_button.png"> button. A comment can be given, if wanted.
<p/>

<H3 id="rtype_edit">Result type - Edit</H3>
<img border="2" src="images/rtype_edit.png">
<p>The result type can be updated and deleted from this page.
</p>
</body>
</HTML>
